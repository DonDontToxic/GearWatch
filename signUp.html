<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <link href="https://fonts.googleapis.com/css?family=Titillium+Web&display=swap" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="style.css">
  <title>Sign Up</title>
  <style>
    footer {
      clear: both;
      position: relative;
      height: 150px;
      width: 100%;
      margin-top: -150px;
      background-color: pink
    }

    .image {
      cursor: pointer;
    }
  </style>
</head>

<body onload="prepare()">
  <header style="background-color: pink">
    <div class="row">
      <div class="col-sm-2">
        <img src="img/br_logo.png" width="200" height="200" alt="Our logo brand should be here">
      </div>
      <div class="col-sm-8"></div>
      <div class="col-sm-2 text-center">
        <h2 style="margin-top: 15%; color: purple">One Of The Largest Gears Preview Website</h2>
      </div>
  </header>
  <!-- Register Section -->
  <div class="container">
    <h1 class="hero" style="color:#66b933">Be Come Our Member?</h1>
    <h2 style="text-align:center;color:white"><span class="display-5" style="color:#66b933">Register now</span>
      to get firsthand updates on all new Razer products and Enjoy <span class="display-5"
        style="color:red">$10*Off</span>
      by using our provided code on purchasing Razer gears </h1>
  </div>
  <div class="row" style="margin-top: 5%">
    <div class="col-sm-4">
      <p class="formText text-center"> Choose your default avatar</p>
      <div class="row">
        <div class="col-sm-4">
          <img id="male_drag" src="img/avatar1.gif" draggable="true" ondragstart="drag(event)" width="150" height="150">
        </div>
        <div class="col-sm-4">
          <div class="avatar" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
        </div>
        <div class="col-sm-4">
          <img id="female_drag" src="img/avatar2.gif" draggable="true" ondragstart="drag(event)" width="150"
            height="150">
        </div>
      </div>
    </div>
    <div class="col-sm-8">
      <form action="" style="width:80%; float: right; margin-right: 5%">
        <div class="form-group">
          <label class="formText" for="country">Please select your country (select one):</label>
          <select class="form-control" id="country">
            <option value="" disabled selected>Select your option</option>
            <option value="AUS">Australia</option>
            <option value="UK">United Kingdom</option>
            <option value="US">United States</option>
            <option value="VN">VietNam</option>
            <option>Others</option>
          </select>
        </div>
        <div class="form-group">
          <label class="formText" for="email">Email address:</label>
          <input type="email" class="form-control" id="email" placeholder="abc@gmail.com">

        </div>
        <div class="form-group">
          <label class="formText" for="uname">Username:</label>
          <input type="text" class="form-control" id="uname" placeholder="Enter your username">
        </div>
        <div class="form-group">
          <label class="formText" for="pwd">Password:</label>
          <input type="password" class="form-control" id="pwd" placeholder="Enter your password">
        </div>
        <div class="form-group form-check">
          <label class="formText" class="form-check-label">
            <input class="form-check-input" type="checkbox" id="login">Auto Login
          </label>
        </div>
        <div class="text-center">
          <button type="submit" class="btn btn-primary" style="background-color: green;
              color:black; font-weight: bold;" onclick="submitted()">Submit</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Reference Section -->
  <footer style="margin-top: 5%">
    <div class="row">
      <div class="col">
        <div style="margin-top:5%; margin-left: 2%;">
          <p class="homeText" style="font-weight: bold;">Created by: Dong Nguyen</p>
          <p class="homeText" style="font-weight: bold;">Contact information: <a
              href="mailto:quexx4@gmail.com">Gmail</a> - <a href="mailto:N.dong83@outlook.com">Outlook</a>
          </p>
          <p class="homeText" style="font-weight: bold;">Phone Number: (+84) 0329455587</p>
        </div>
      </div>
      <div class="col">
        <div style="margin-top:5%;text-align: center">
          <p class="homeText" style="font-weight: bold;">About My Self</p>
          <p class="homeText" style="font-weight: bold;"><a target="_blank" rel="noopener noreferrer"
              href="https://www.rmit.edu.vn/programs/bachelor-engineering-software-engineering-honours">Banchelor
              of Software Engineer</a></p>
          <p class="homeText" style="font-weight: bold;">My Current Work: Freelancer</p>
        </div>
      </div>
      <div class="col">
        <div style="margin-top:4%; margin-right: 2%; text-align: right">
          <p class="homeText" style="font-weight: bold;">Follow Me</p>
          <p class="homeText" style="font-weight: bold;">
            <img src="img/fb_logo.png" width="30" height="30" alt="The facebook logo should be here">
            <a target="_blank" rel="noopener noreferrer"
              href="https://www.facebook.com/profile.php?id=100004307940153">Facebook</a></p>
          <img class="image" src="img/fl_logo.png" width="150" height="30" alt="The Freelancer logo should be here"
            onclick="freeClicked()">
        </div>
      </div>
    </div>
  </footer>
</body>


<script>

  function freeClicked() {
    window.open("https://www.freelancer.com");
  }

  function prepare() {
    document.getElementById("country").value = sessionStorage.getItem("country");
    document.getElementById("email").value = sessionStorage.getItem("email");
    document.getElementById("uname").value = sessionStorage.getItem("uname_temp");
  }
  function allowDrop(ev) {
    ev.preventDefault();
  }

  function drag(ev) {
    ev.dataTransfer.setData("text", ev.target.id);
  }

  var isDropped = false;
  function drop(ev) {
    ev.preventDefault();
    var data = ev.dataTransfer.getData("text");

    if (data == "male_drag") {
      var image = document.getElementById('female_drag');
      image.parentNode.removeChild(image);
    } else {
      var image = document.getElementById('male_drag');
      image.parentNode.removeChild(image);
    }
    ev.target.appendChild(document.getElementById(data));
    isDropped = true;
  }

  function submitted() {

    var country = document.getElementById("country").value;
    var email = document.getElementById("email").value;
    var uname = document.getElementById("uname").value;
    var pwd = document.getElementById("pwd").value;
    var mailReg = /^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;
    var passReg = new RegExp("(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])(?=.{8,})");
    var isLogin = document.getElementById("login").checked;

    if (!isDropped) {
      alert("Please choose your avatar first!")
      return false;
    }
    if (country == "") {
      alert("Please choose one option!")
      return false;
    }
    if (email == "") {
      alert("Please enter your email!")
      return false;
    }
    if (uname == "") {
      alert("Please enter your username!")
      return false;
    }
    if (!mailReg.test(email)) {
      alert("Sorry! Your email is not valid")
      return false;
    }
    if (pwd == "") {
      alert("Please enter your password!")
      return false;
    }

    if (!passReg.test(pwd)) {
      alert("Sorry! Your password not strong enough")
      var rule1 = "The password must contain at least 1 lowercase alphabetical character\r\n";
      var rule2 = "The password must contain at least 1 uppercase alphabetical character\r\n";
      var rule3 = "The password must contain at least 1 numeric character\r\n"
      var rule4 = "The password must contain at least one special character\r\n";
      var rule5 = "The password must be eight characters or longer"
      alert("Our password rule:\r\n" + rule1 + rule2 + rule3 + rule4 + rule5)
      sessionStorage.setItem("country", country);
      sessionStorage.setItem("email", email);
      sessionStorage.setItem("uname_temp", uname);
      return false;
    }
    sessionStorage.setItem("country", "");
    sessionStorage.setItem("email", "");
    sessionStorage.setItem("uname_temp", "");
    alert("Thanks for your registration\r\nOur code will be sent directly to your mail: " + email + "/" + country)
    if (typeof (Storage) !== "undefined") {
      // Store
      localStorage.setItem("uname", uname);
      localStorage.setItem("auto", isLogin);
      if (isLogin) {
        if(localStorage.getItem("collection" == "mercury")) {
          window.open("razerMercury.html");
        } else {
          window.open("razerQuartz.html");
        }
      } else {
        window.open("login.html");
      }
    } else {
      alert("Sorry! Your current browers doesnt support this feature")
    }
  }

</script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

</html>